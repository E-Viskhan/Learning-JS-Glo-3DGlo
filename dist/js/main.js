(()=>{"use strict";const e=({timing:e,draw:t,duration:s})=>{let r=performance.now();requestAnimationFrame((function o(l){let n=(l-r)/s;n>1&&(n=1);let a=e(n);t(a),n<1&&requestAnimationFrame(o)}))},t=({formId:e,someElem:t=[]})=>{const s=document.getElementById(e);let r=document.createElement("div");r.className="status-block";const o=document.querySelector(".sk-chase").cloneNode(!0);let l="Ошибка...";try{if(!s)throw new Error("Формы с данным id нет на странице!");s.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(s),n={},a=s.querySelectorAll("input");var c;o.classList.remove("d-none"),r.innerHTML="",r.insertAdjacentElement("beforeend",o),s.append(r),e.forEach(((e,t)=>{n[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id),s="input"===e.type?t.value:t.textContent;n[e.id]=s})),(e=>{const t=e=>{e.style.border="2px solid red",setTimeout((()=>e.style.border=""),3e3)};let s=!0;return l="Ошибка...",e.forEach((e=>{const r=e.name,o=e.value;let n=""===o;switch(r){case"user_email":n&&(s=!1,t(e),l+="<br>Не заполнен Email!");break;case"user_message":n&&(s=!1,t(e),l+="<br>Не заполнено поле сообщение!");break;case"user_name":o.length<2&&(s=!1,t(e),l+="<br>В имени должно быть от 2 букв!");break;case"user_phone":o.length<6?(s=!1,t(e),l+="<br>Слишком короткий номер!"):o.length>12&&(s=!1,t(e),l+="<br>Слишком длинный номер!")}})),s})(a)?(c=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((()=>{r.innerHTML="Спасибо! Наш менеджер с вами свяжется!",a.forEach((e=>{e.value="",e.style.border=""}))})).catch((e=>{r.innerHTML=l,console.error(e)})):r.innerHTML=l})()}))}catch(e){console.error(e.message)}};(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),o=e=>1===String(e).length?"0"+e:e,l=()=>{let{timeRemaining:e,hours:l,minutes:a,seconds:c}=(()=>{let e=(new Date("12 january 2022").getTime()-Date.now())/1e3,t=Math.floor(e/60/60),s=Math.floor(e/60%60),r=Math.floor(e%60);return t=o(t),s=o(s),r=o(r),{timeRemaining:e,hours:t,minutes:s,seconds:r}})();e<1?clearInterval(n):(t.textContent=l,s.textContent=a,r.textContent=c)},n=setInterval(l,1e3);l()})(),(()=>{const e=document.querySelector("menu"),t=()=>e.classList.toggle("active-menu"),s=(e,t)=>{t.preventDefault();const s=e.getAttribute("href").substring(1),r=document.getElementById(s).getBoundingClientRect().top;window.scrollBy({top:r,behavior:"smooth"})};document.addEventListener("click",(r=>{if(r.target.closest(".menu"))t();else if(r.target.classList.contains("close-btn"))r.preventDefault(),t();else if(r.target.matches("menu.active-menu a"))t(),s(r.target,r);else if(e.classList.contains("active-menu")&&!r.target.closest(".active-menu"))t();else if(r.target.closest('a[href="#service-block"]')){const e=r.target.closest('a[href="#service-block"]');s(e,r)}}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),s=document.querySelector(".popup"),r=s.querySelector(".popup-content"),o=()=>{s.style.display="block",e({duration:300,timing:e=>e,draw(e){r.style.transform=`scale(${e})`,s.style.opacity=e}})};t.forEach((e=>e.addEventListener("click",o))),s.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e({duration:300,timing:e=>e,draw(e){r.style.transform=`scale(${1-e})`,s.style.opacity=1-e}}),setTimeout((()=>s.style.display="none"),300))}))})(),(()=>{const e=document.querySelectorAll("input"),t=document.querySelectorAll(".calc-block input[type=text]"),s=document.querySelectorAll("input[type=tel]"),r=document.querySelectorAll('input[name="user_name"]'),o=document.querySelectorAll('input[name="user_message"]'),l=document.querySelectorAll("input[type=email]"),n=(e,t)=>{e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(t,"")}))}))};e.forEach((e=>{e.addEventListener("blur",(e=>{e.target.value=e.target.value.trim().replace(/\s{2,}/gi," ").replace(/\-{2,}/gi,"-")}))})),n(t,/[^\d]/gi),n(s,/[^\d\(\)\-\+]/gi),n(l,/[^\w\@\-\.\!\~\*\']/gi),n(r,/[^а-я\s]/gi),n(o,/[^а-я\s\d\.\,\!\?\:\;\"\'\*]/gi),o.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/^\S+\s/gi,(e=>e[0].toUpperCase()+e.substr(1).toLowerCase()))}))})),r.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/\S+/gi,(e=>e[0].toUpperCase()+e.substr(1).toLowerCase()))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const r=e.target.closest(".service-header-tab");r&&t.forEach(((e,t)=>{e===r?(e.classList.add("active"),s[t].classList.remove("d-none")):(e.classList.remove("active"),s[t].classList.add("d-none"))}))}))})(),(({sliderClass:e="slider",slideClass:t="slider__slide",slideActiveClass:s="slider__slide--active",dotsClass:r="slider__dots",dotClass:o="slider__dot",dotActiveClass:l="slider__dot--active",arrowsCommonClass:n="slider__arrow",arrowPrevClass:a="slider__arrow--prev",arrowNextClass:c="slider__arrow--next",slideTime:i=2e3})=>{const d=document.querySelector(`.${e}`),u=document.querySelectorAll(`.${t}`),m=document.querySelector(`.${r}`);let v,p,g=i,y=0;const h=(e,t,s)=>{e[t].classList.remove(s)},f=(e,t,s)=>{e[t].classList.add(s)},E=()=>{h(u,y,s),h(v,y,l),y++,y>=u.length&&(y=0),f(u,y,s),f(v,y,l)},b=(e=1500)=>{p=setInterval(E,e)};null!==d?u.length?null!==m?(d.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${o}, .${n}`)&&(h(u,y,s),h(v,y,l),e.target.classList.contains(c)?y++:e.target.classList.contains(a)?y--:e.target.classList.contains(o)&&v.forEach(((t,s)=>{t===e.target&&(y=s)})),y>=u.length&&(y=0),y<0&&(y=u.length-1),f(u,y,s),f(v,y,l))})),d.addEventListener("mouseenter",(e=>{e.target.matches(`.${o}, .${n}`)&&clearInterval(p)}),!0),d.addEventListener("mouseleave",(e=>{e.target.matches(`.${o}, .${n}`)&&b(g)}),!0),u.forEach((()=>{m.insertAdjacentHTML("beforeend",`<div class="${o}"></div>`)})),m.firstChild.classList.add(l),v=document.querySelectorAll(`.${o}`),b(g)):console.error('Your dots container class is wrong. Option name: "dotsClass"'):console.error('Your slide class is wrong. Option name: "slideClass"'):console.error('Your slides container class is wrong. Option name: "sliderClass"')})({sliderClass:"portfolio-content",slideClass:"portfolio-item",slideActiveClass:"portfolio-item-active",dotsClass:"portfolio-dots",dotClass:"dot",dotActiveClass:"dot-active",arrowsCommonClass:"portfolio-btn",arrowPrevClass:"prev",arrowNextClass:"next",slideTime:2e3}),((e=100)=>{const t=document.querySelector(".calc-block"),s=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),o=document.querySelector(".calc-count"),l=document.querySelector(".calc-day"),n=document.getElementById("total");t.addEventListener("input",(t=>{[s,r,o,l].includes(t.target)&&(()=>{const t=+s.value,a=+r.value;let c=0,i=1,d=1;+o.value>1&&(i+=+o.value/10),l.value>0&&(l.value<5?d=2:l.value<=10&&(d=1.5)),c=s.value&&r.value?e*t*a*i*d:0,n.textContent=c})()}))})(100),t({formId:"form1",someElem:[{type:"block",id:"total"}]}),t({formId:"form2"}),t({formId:"form3"})})();