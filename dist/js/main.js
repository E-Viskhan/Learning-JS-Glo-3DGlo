(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let s=performance.now();requestAnimationFrame((function n(r){let l=(r-s)/o;l>1&&(l=1);let a=e(l);t(a),l<1&&requestAnimationFrame(n)}))},t=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e);let s=document.createElement("div");s.className="status-block";const n=document.querySelector(".sk-chase").cloneNode(!0);let r="Ошибка...";try{if(!o)throw new Error("Формы с данным id нет на странице!");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(o),l={},a=o.querySelectorAll("input");var c;n.classList.remove("d-none"),s.innerHTML="",s.insertAdjacentElement("beforeend",n),o.append(s),e.forEach(((e,t)=>{l[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id),o="input"===e.type?t.value:t.textContent;l[e.id]=o})),(e=>{const t=e=>{e.style.border="2px solid red",setTimeout((()=>e.style.border=""),3e3)};let o=!0;return r="Ошибка...",e.forEach((e=>{const s=e.name,n=e.value;let l=""===n;switch(s){case"user_email":l&&(o=!1,t(e),r+="<br>Не заполнен Email!");break;case"user_message":l&&(o=!1,t(e),r+="<br>Не заполнено поле сообщение!");break;case"user_name":n.length<2&&(o=!1,t(e),r+="<br>В имени должно быть от 2 букв!");break;case"user_phone":n.length<6?(o=!1,t(e),r+="<br>Слишком короткий номер!"):n.length>12&&(o=!1,t(e),r+="<br>Слишком длинный номер!")}})),o})(a)?(c=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((()=>{s.innerHTML="Спасибо! Наш менеджер с вами свяжется!",a.forEach((e=>{e.value="",e.style.border=""}))})).catch((e=>{s.innerHTML=r,console.error(e)})):s.innerHTML=r})()}))}catch(e){console.error(e.message)}};(e=>{const t=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),s=document.getElementById("timer-seconds"),n=e=>1===String(e).length?"0"+e:e,r=()=>{let{timeRemaining:e,hours:r,minutes:a,seconds:c}=(()=>{let e=(new Date("12 january 2022").getTime()-Date.now())/1e3,t=Math.floor(e/60/60),o=Math.floor(e/60%60),s=Math.floor(e%60);return t=n(t),o=n(o),s=n(s),{timeRemaining:e,hours:t,minutes:o,seconds:s}})();e<1?clearInterval(l):(t.textContent=r,o.textContent=a,s.textContent=c)},l=setInterval(r,1e3);r()})(),(()=>{const e=document.querySelector("menu"),t=()=>e.classList.toggle("active-menu"),o=(e,t)=>{t.preventDefault();const o=e.getAttribute("href").substring(1),s=document.getElementById(o).getBoundingClientRect().top;window.scrollBy({top:s,behavior:"smooth"})};document.addEventListener("click",(s=>{if(s.target.closest(".menu")?t():s.target.classList.contains("close-btn")?(s.preventDefault(),t()):s.target.matches("menu.active-menu a")?(t(),o(s.target,s)):e.classList.contains("active-menu")&&!s.target.closest(".active-menu")&&t(),s.target.closest('a[href="#service-block"]')){const e=s.target.closest('a[href="#service-block"]');o(e,s)}}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup"),s=o.querySelector(".popup-content"),n=()=>{document.body.style.marginRight=`${(()=>{let e=0;if(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)>document.documentElement.clientHeight){let t=document.createElement("div");t.style.width="500px",t.style.height="500px",t.style.overflowY="scroll",t.style.visibility="hidden",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,t.remove()}return e})()}px`,document.body.style.overflow="hidden",o.style.display="block",window.screen.width>768?e({duration:300,timing:e=>e,draw(e){s.style.transform=`scale(${e})`,o.style.opacity=e}}):(s.style.transform="scale(1)",o.style.opacity=1)},r=()=>{document.body.style.marginRight="0",document.body.style.overflow="auto",window.screen.width>768?(e({duration:300,timing:e=>e,draw(e){s.style.transform=`scale(${1-e})`,o.style.opacity=1-e}}),setTimeout((()=>o.style.display="none"),300)):o.style.display="none"};t.forEach((e=>e.addEventListener("click",n))),o.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||r()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&r()}))})(),(()=>{const e=document.querySelectorAll("input"),t=document.querySelectorAll(".calc-block input[type=text]"),o=document.querySelectorAll("input[type=tel]"),s=document.querySelectorAll('input[name="user_name"]'),n=document.querySelectorAll('input[name="user_message"]'),r=document.querySelectorAll("input[type=email]"),l=(e,t)=>{e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(t,"")}))}))};e.forEach((e=>{e.addEventListener("blur",(e=>{e.target.value=e.target.value.trim().replace(/\s{2,}/gi," ").replace(/\-{2,}/gi,"-")}))})),l(t,/[^\d]/gi),l(o,/[^\d\(\)\-\+]/gi),l(r,/[^\w\@\-\.\!\~\*\']/gi),l(s,/[^а-я\s]/gi),l(n,/[^а-я\s\d\.\,\!\?\:\;\"\'\*]/gi),n.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/^\S+\s/gi,(e=>e[0].toUpperCase()+e.substr(1).toLowerCase()))}))})),s.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/\S+/gi,(e=>e[0].toUpperCase()+e.substr(1).toLowerCase()))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const s=e.target.closest(".service-header-tab");s&&t.forEach(((e,t)=>{e===s?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}))})(),(({sliderClass:e="slider",slideClass:t="slider__slide",slideActiveClass:o="slider__slide--active",dotsClass:s="slider__dots",dotClass:n="slider__dot",dotActiveClass:r="slider__dot--active",arrowsCommonClass:l="slider__arrow",arrowPrevClass:a="slider__arrow--prev",arrowNextClass:c="slider__arrow--next",slideTime:i=2e3})=>{const d=document.querySelector(`.${e}`),u=document.querySelectorAll(`.${t}`),m=document.querySelector(`.${s}`);let v,y,p=i,g=0;const h=(e,t,o)=>{e[t].classList.remove(o)},f=(e,t,o)=>{e[t].classList.add(o)},b=()=>{h(u,g,o),h(v,g,r),g++,g>=u.length&&(g=0),f(u,g,o),f(v,g,r)},E=(e=1500)=>{y=setInterval(b,e)};null!==d?u.length?null!==m?(d.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${n}, .${l}`)&&(h(u,g,o),h(v,g,r),e.target.classList.contains(c)?g++:e.target.classList.contains(a)?g--:e.target.classList.contains(n)&&v.forEach(((t,o)=>{t===e.target&&(g=o)})),g>=u.length&&(g=0),g<0&&(g=u.length-1),f(u,g,o),f(v,g,r))})),d.addEventListener("mouseenter",(e=>{e.target.matches(`.${n}, .${l}`)&&clearInterval(y)}),!0),d.addEventListener("mouseleave",(e=>{e.target.matches(`.${n}, .${l}`)&&E(p)}),!0),u.forEach((()=>{m.insertAdjacentHTML("beforeend",`<div class="${n}"></div>`)})),m.firstChild.classList.add(r),v=document.querySelectorAll(`.${n}`),E(p)):console.error('Your dots container class is wrong. Option name: "dotsClass"'):console.error('Your slide class is wrong. Option name: "slideClass"'):console.error('Your slides container class is wrong. Option name: "sliderClass"')})({sliderClass:"portfolio-content",slideClass:"portfolio-item",slideActiveClass:"portfolio-item-active",dotsClass:"portfolio-dots",dotClass:"dot",dotActiveClass:"dot-active",arrowsCommonClass:"portfolio-btn",arrowPrevClass:"prev",arrowNextClass:"next",slideTime:2e3}),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),s=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),l=document.getElementById("total");t.addEventListener("input",(t=>{[o,s,n,r].includes(t.target)&&(()=>{const t=+o.value,a=+s.value,c=+l.textContent;let i=0,d=1,u=1;+n.value>1&&(d+=+n.value/10),r.value>0&&(r.value<5?u=2:r.value<=10&&(u=1.5)),i=o.value&&s.value?e*t*a*d*u:0,((e,t,o,s)=>{let n=null;const r=s=>{n||(n=s);const l=Math.min((s-n)/1e3,1);e.textContent=Math.floor(l*(o-t)+t),l<1&&window.requestAnimationFrame(r)};window.requestAnimationFrame(r)})(l,c,i)})()}))})(100),t({formId:"form1",someElem:[{type:"block",id:"total"}]}),t({formId:"form2"}),t({formId:"form3"})})();