(()=>{"use strict";const e=({timing:e,draw:t,duration:s})=>{let o=performance.now();requestAnimationFrame((function r(n){let a=(n-o)/s;a>1&&(a=1);let l=e(a);t(l),a<1&&requestAnimationFrame(r)}))},t=({formId:e,someElem:t=[]})=>{const s=document.getElementById(e);let o=document.createElement("div");o.className="status-block";const r=document.querySelector(".sk-chase").cloneNode(!0),n="Ошибка...";try{if(!s)throw new Error("Формы с данным id нет на странице!");s.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(s),a={},l=s.querySelectorAll("input");var c;r.classList.remove("d-none"),o.textContent="",o.insertAdjacentElement("beforeend",r),s.append(o),e.forEach(((e,t)=>{a[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id),s="input"===e.type?t.value:t.textContent;a[e.id]=s})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("validation-error")&&(t=!1)})),t})(l)?(c=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((()=>{o.textContent="Спасибо! Наш менеджер с вами свяжется!",l.forEach((e=>{e.value="",e.style.border=""}))})).catch((e=>{o.textContent=n,console.error(e)})):(o.textContent=n,alert("Данные заполнены неверно!!!"))})()}))}catch(e){console.error(e.message)}};(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),r=e=>1===String(e).length?"0"+e:e,n=()=>{let{timeRemaining:e,hours:n,minutes:l,seconds:c}=(()=>{let e=(new Date("3 january 2022").getTime()-Date.now())/1e3,t=Math.floor(e/60/60%60),s=Math.floor(e/60%60),o=Math.floor(e%60);return t=r(t),s=r(s),o=r(o),{timeRemaining:e,hours:t,minutes:s,seconds:o}})();e<1?clearInterval(a):(t.textContent=n,s.textContent=l,o.textContent=c)},a=setInterval(n,1e3);n()})(),(()=>{const e=document.querySelector("menu"),t=()=>e.classList.toggle("active-menu"),s=(e,t)=>{t.preventDefault();const s=e.getAttribute("href").substring(1),o=document.getElementById(s).getBoundingClientRect().top;window.scrollBy({top:o,behavior:"smooth"})};document.addEventListener("click",(o=>{if(o.target.closest(".menu"))t();else if(o.target.classList.contains("close-btn"))o.preventDefault(),t();else if(o.target.matches("menu.active-menu a"))t(),s(o.target,o);else if(e.classList.contains("active-menu")&&!o.target.closest(".active-menu"))t();else if(o.target.closest('a[href="#service-block"]')){const e=o.target.closest('a[href="#service-block"]');s(e,o)}}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),s=document.querySelector(".popup"),o=s.querySelector(".popup-content"),r=()=>{s.style.display="block",e({duration:300,timing:e=>e,draw(e){o.style.transform=`scale(${e})`,s.style.opacity=e}})};t.forEach((e=>e.addEventListener("click",r))),s.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e({duration:300,timing:e=>e,draw(e){o.style.transform=`scale(${1-e})`,s.style.opacity=1-e}}),setTimeout((()=>s.style.display="none"),300))}))})(),(()=>{const e=document.querySelectorAll("form"),t=document.querySelector(".calc-block"),s=document.querySelectorAll('input[name="user_name"]'),o=document.querySelectorAll('input[name="user_email"]'),r=document.querySelectorAll('input[name="user_phone"]'),n=(e,t)=>{e.value=e.value.replace(t,"")},a=(e,t)=>{e.value.match(t)?e.classList.add("validation-error"):e.classList.remove("validation-error")},l=(e,t=0,s=1/0)=>{e.value.length<t||e.value.length>s?e.classList.add("validation-error"):e.classList.remove("validation-error")};e.forEach((e=>{e.addEventListener("input",(e=>{let t=e.target;"user_phone"===t.name?a(t,/[^\d\(\)\-\+]/gi):"user_name"===t.name?a(t,/[^а-я\s]/gi):"user_message"===t.name&&a(t,/[^\\а-я\s\d\.\,\!\?\:\-\+\*\=\;\'\"\@\(\)]/gi)}))})),t.addEventListener("input",(e=>{"text"===e.target.type&&n(e.target,/[^\d]/gi)})),s.forEach((e=>{e.addEventListener("blur",(()=>l(e,2)))})),o.forEach((e=>{e.addEventListener("blur",(()=>l(e,1)))})),r.forEach((e=>{e.addEventListener("blur",(()=>l(e,7,11))),e.addEventListener("input",(e=>n(e.target,/[^\d]/gi)))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const o=e.target.closest(".service-header-tab");o&&t.forEach(((e,t)=>{e===o?(e.classList.add("active"),s[t].classList.remove("d-none")):(e.classList.remove("active"),s[t].classList.add("d-none"))}))}))})(),(({sliderClass:e="slider",slideClass:t="slider__slide",slideActiveClass:s="slider__slide--active",dotsClass:o="slider__dots",dotClass:r="slider__dot",dotActiveClass:n="slider__dot--active",arrowsCommonClass:a="slider__arrow",arrowPrevClass:l="slider__arrow--prev",arrowNextClass:c="slider__arrow--next",slideTime:i=2e3})=>{const d=document.querySelector(`.${e}`),u=document.querySelectorAll(`.${t}`),m=document.querySelector(`.${o}`);let v,p,g=i,y=0;const h=(e,t,s)=>{e[t].classList.remove(s)},f=(e,t,s)=>{e[t].classList.add(s)},E=()=>{h(u,y,s),h(v,y,n),y++,y>=u.length&&(y=0),f(u,y,s),f(v,y,n)},L=(e=1500)=>{p=setInterval(E,e)};null!==d?u.length?null!==m?(d.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${r}, .${a}`)&&(h(u,y,s),h(v,y,n),e.target.classList.contains(c)?y++:e.target.classList.contains(l)?y--:e.target.classList.contains(r)&&v.forEach(((t,s)=>{t===e.target&&(y=s)})),y>=u.length&&(y=0),y<0&&(y=u.length-1),f(u,y,s),f(v,y,n))})),d.addEventListener("mouseenter",(e=>{e.target.matches(`.${r}, .${a}`)&&clearInterval(p)}),!0),d.addEventListener("mouseleave",(e=>{e.target.matches(`.${r}, .${a}`)&&L(g)}),!0),u.forEach((()=>{m.insertAdjacentHTML("beforeend",`<div class="${r}"></div>`)})),m.firstChild.classList.add(n),v=document.querySelectorAll(`.${r}`),L(g)):console.error('Your dots container class is wrong. Option name: "dotsClass"'):console.error('Your slide class is wrong. Option name: "slideClass"'):console.error('Your slides container class is wrong. Option name: "sliderClass"')})({sliderClass:"portfolio-content",slideClass:"portfolio-item",slideActiveClass:"portfolio-item-active",dotsClass:"portfolio-dots",dotClass:"dot",dotActiveClass:"dot-active",arrowsCommonClass:"portfolio-btn",arrowPrevClass:"prev",arrowNextClass:"next",slideTime:2e3}),((e=100)=>{const t=document.querySelector(".calc-block"),s=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),n=document.querySelector(".calc-day"),a=document.getElementById("total");t.addEventListener("input",(t=>{[s,o,r,n].includes(t.target)&&(()=>{const t=+s.value,l=+o.value;let c=0,i=1,d=1;+r.value>1&&(i+=+r.value/10),n.value>0&&(n.value<5?d=2:n.value<=10&&(d=1.5)),c=s.value&&o.value?e*t*l*i*d:0,a.textContent=c})()}))})(100),t({formId:"form1",someElem:[{type:"block",id:"total"}]}),t({formId:"form2"}),t({formId:"form3"})})();